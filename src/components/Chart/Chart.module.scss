/**
 * Chart.module.scss - Modern Chart Component Styles
 */
@use '../../styles/Variables.scss' as *;
@use '../../styles/mixins.scss' as *;
@use '../../styles/utilities.scss' as *;

// ========================================
// Chart Container with Modern Containment
// ========================================

.chart {
	@include container-base;
	@include flex-center;
	gap: var(--spacing-2);
	padding: var(--spacing-3);
	background: var(--color-surface);
	border-radius: var(--radius-md);

	// Layout variants
	&--top {
		flex-direction: column;
	}
	&--bottom {
		flex-direction: column-reverse;
	}
	&--left {
		flex-direction: row;
	}
	&--right {
		flex-direction: row-reverse;
	}
	&--overlay {
		position: absolute;
		top: var(--spacing-4);
		right: var(--spacing-4);
	}

	&--horizontal {
		flex-direction: row;
	}
	&--vertical {
		flex-direction: column;
	}

	// Spacing variants
	&--spacing-tight {
		gap: var(--spacing-1);
	}
	&--spacing-normal {
		gap: var(--spacing-2);
	}
	&--spacing-loose {
		gap: var(--spacing-4);
	}

	// Size variants
	&--size-small {
		padding: var(--spacing-2);
		font-size: var(--font-size-sm);
	}
	&--size-medium {
		padding: var(--spacing-3);
		font-size: var(--font-size-base);
	}
	&--size-large {
		padding: var(--spacing-4);
		font-size: var(--font-size-lg);
	}

	// Style variants
	&--modern {
		@include elevated-surface;
		border: 1px solid var(--color-border);
	}

	&--minimal {
		padding: var(--spacing-2);
		background: transparent;
	}

	&--compact {
		padding: var(--spacing-1);
		gap: var(--spacing-1);
	}

	&--glass {
		@include glass-surface;
	}

	&--game_style {
		background: linear-gradient(
			135deg,
			var(--color-primary-dark),
			var(--color-primary)
		);
		color: var(--color-text-inverse);
		border: 2px solid var(--color-warning);
	}
}

// ========================================
// Legend Component with Proper Containment
// ========================================

.legend {
	@include flex-wrap;
	gap: var(--spacing-3);
}

.legend__item {
	@include flex-center;
	@include interactive-element;
	gap: var(--spacing-2);
	padding: var(--spacing-1) var(--spacing-2);
	border-radius: var(--radius-sm);
	cursor: pointer;
	opacity: 0.7;

	&:hover {
		opacity: 1;
		background: var(--color-gray-100);
	}

	&.active {
		opacity: 1;
		font-weight: var(--font-weight-medium);
	}
}

.legend__marker {
	@include contained-size(12px);
	border-radius: var(--radius-sm);
	flex-shrink: 0;
}

.legend__icon {
	@include contained-size(var(--spacing-3));
	@include flex-center;
	border-radius: var(--radius-xs);
	font-size: var(--font-size-xs);
}

.legend__label {
	font-size: var(--font-size-sm);
	color: var(--color-text-primary);
}

.legend__value {
	font-size: var(--font-size-xs);
	color: var(--color-text-muted);
	margin-left: auto;
}

// ========================================
// Chart Controls and Filters
// ========================================

.filter {
	@include flex-column;
	gap: var(--spacing-2);
}

.filter__search {
	@include input-base;
}

.filter__select_all {
	@include button-base;
	@include button-primary;
	padding: var(--spacing-1) var(--spacing-2);
	font-size: var(--font-size-xs);
}

.filter__items {
	@include flex-column;
	gap: var(--spacing-1);
}

.filter__item {
	@include flex-center;
	@include interactive-element;
	gap: var(--spacing-2);
	cursor: pointer;
}

.tooltip {
	@include elevated-surface;
	position: absolute;
	background: var(--color-surface);
	border: 1px solid var(--color-border);
	border-radius: var(--radius-sm);
	padding: var(--spacing-2);
	z-index: var(--z-tooltip);
}

.tooltip__arrow {
	position: absolute;
	bottom: -5px;
	left: 50%;
	transform: translateX(-50%);
	width: 0;
	height: 0;
	border-left: 5px solid transparent;
	border-right: 5px solid transparent;
	border-top: 5px solid var(--color-border);
}

.tooltip__content {
	font-size: var(--font-size-sm);
	color: var(--color-text-primary);
}

.controls {
	@include flex-center;
	gap: var(--spacing-2);
}

.controls__button {
	@include button-base;
	@include button-secondary;
	padding: var(--spacing-1) var(--spacing-2);
}

.controls__select {
	@include input-base;
	padding: var(--spacing-1) var(--spacing-2);
}
