// Mixins for commonly repeated patterns
@use './Variables.scss' as *;

// Modal overlay pattern
@mixin modal-overlay {
	position: fixed;
	z-index: 2100;
	inset: 0;
	background: rgba(30, 41, 59, 0.38);
	display: flex;
	align-items: center;
	justify-content: center;
}

// Modal content pattern
@mixin modal-content {
	background: #fff;
	border-radius: 1.2rem;
	padding: 2rem 1.5rem 1.5rem 1.5rem;
	min-width: 260px;
	max-width: 95vw;
	width: 100%;
	text-align: center;
	position: relative;
	box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.18);
}

// Close button pattern
@mixin close-button-absolute {
	position: absolute;
	top: 16px;
	right: 16px;
	background: none;
	border: none;
	font-size: 1.5rem;
	cursor: pointer;
	z-index: 10;
}

// Button gradient pattern
@mixin primary-gradient {
	background: linear-gradient(
		90deg,
		$primary-color 0%,
		$secondary-color 100%
	);
	color: $primary-white;
	font-weight: 600;
	border: none;
	border-radius: 0.7rem;
	padding: 0.75rem 2.2rem;
	font-size: 1.1rem;
	cursor: pointer;
	box-shadow: 0 2px 8px 0 $primary-shadow-blue;
}

// Button base pattern
@mixin button-base {
	border-radius: 0.7rem;
	font-size: 1.1rem;
	font-weight: 600;
	cursor: pointer;
	transition: all 0.2s ease;
	border: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	text-decoration: none;
	outline: none;

	&:focus {
		box-shadow: 0 0 0 2px rgba($primary-color, 0.5);
	}

	&:disabled {
		opacity: 0.6;
		cursor: not-allowed;
	}
}

// Secondary button pattern
@mixin secondary-button {
	background: $primary-white;
	color: $primary-color;
	border: 2px solid $primary-color;
	border-radius: 0.7rem;
	padding: 0.75rem 2.2rem;
	font-size: 1.1rem;
	font-weight: 600;
	cursor: pointer;
}

// Card pattern
@mixin card {
	background: $primary-white;
	border-radius: 0.7rem;
	box-shadow: 0 2px 8px $primary-shadow-blue-verylight;
	padding: 1rem;
}

// Flex center pattern
@mixin flex-center {
	display: flex;
	align-items: center;
	justify-content: center;
}

// Status dot pattern
@mixin status-dot($size: 10px) {
	width: $size;
	height: $size;
	border-radius: 50%;
	display: inline-block;
}

// Status dot state colors
@mixin status-dot-state($color) {
	background: $color;
}

// Grid pattern
@mixin grid-pattern($cols: 4, $gap: 12px) {
	display: grid;
	grid-template-columns: repeat($cols, 1fr);
	gap: $gap;
	width: 100%;
	max-width: 480px;
	margin: 0 auto;
}

// Animation fade in
@mixin fade-in-animation {
	animation: fadeInUp 0.6s cubic-bezier(0.4, 2, 0.6, 1);
}

// Chat message base
@mixin chat-message-base {
	margin-bottom: 0.25rem;
	padding: 8px 12px;
	border-radius: 10px;
	font-size: 1rem;
	max-width: 80%;
	word-break: break-word;
}

// Chat message variants
@mixin chat-message {
	@include chat-message-base;
	background: #f3f4f6;
	color: #222;
}

@mixin chat-message-self {
	@include chat-message-base;
	align-self: flex-end;
	background: #e0e7ff;
	color: #2563eb;
}

@mixin chat-message-friend {
	@include chat-message-base;
	align-self: flex-start;
	background: #e0e7ff;
	color: #2563eb;
}

// Chat window components
@mixin chat-window {
	background: rgba(255, 255, 255, 0.98);
	border-radius: 18px;
	box-shadow:
		0 8px 32px 0 #00308733,
		0 2px 8px 0 #e3eaff33;
	display: flex;
	flex-direction: column;
	overflow: hidden;
}

@mixin chat-header {
	display: flex;
	align-items: center;
	gap: 12px;
	padding: 14px 18px 10px 18px;
	border-bottom: 1.5px solid #e5e7eb;
	background: rgba(255, 255, 255, 0.96);
}

@mixin chat-messages {
	flex: 1;
	overflow-y: auto;
	padding: 16px 18px 8px 18px;
}

// Chat window base
@mixin chat-window-base {
	background: $primary-white;
	border-radius: 1rem;
	box-shadow: 0 2px 8px #0002;
	padding: 1rem;
}

// Gradient text
@mixin gradient-text($gradient) {
	background: $gradient;
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

// Hover scale effect
@mixin hover-scale($scale: 1.05) {
	transition: transform 0.2s ease;

	&:hover {
		transform: scale($scale);
	}
}

// Badge pattern
@mixin badge($bg-color: $primary-color) {
	position: absolute;
	background: $bg-color;
	color: $primary-white;
	border-radius: 8px;
	font-size: 12px;
	padding: 2px 6px;
	z-index: 2;
	pointer-events: none;
}

// Input field base
@mixin input-base {
	font-size: 1rem;
	border-radius: 0.5rem;
	transition: all 0.2s ease-in-out;
	outline: none;
	padding: 0.75rem 1rem;

	&:focus {
		box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
	}

	&:disabled {
		background-color: #f9fafb;
		color: #9ca3af;
		cursor: not-allowed;
	}

	&::placeholder {
		color: #9ca3af;
	}
}

// Input variant - outlined
@mixin input-outlined {
	border: 1px solid #d1d5db;
	background-color: #ffffff;

	&:hover:not(:disabled) {
		border-color: #9ca3af;
	}

	&:focus {
		border-color: #3b82f6;
	}
}

// Input variant - filled
@mixin input-filled {
	border: none;
	background-color: #f3f4f6;
	border-bottom: 2px solid #d1d5db;
	border-radius: 0.5rem 0.5rem 0 0;

	&:hover:not(:disabled) {
		background-color: #e5e7eb;
	}

	&:focus {
		background-color: #ffffff;
		border-bottom-color: #3b82f6;
	}
}

// Input variant - underlined
@mixin input-underlined {
	border: none;
	background-color: transparent;
	border-bottom: 1px solid #d1d5db;
	border-radius: 0;
	padding-left: 0;
	padding-right: 0;

	&:hover:not(:disabled) {
		border-bottom-color: #9ca3af;
	}

	&:focus {
		border-bottom-color: #3b82f6;
		border-bottom-width: 2px;
	}
}

// Skeleton loading
@mixin skeleton {
	background: linear-gradient(
		90deg,
		#f0f0f0 25%,
		#e0e0e0 50%,
		#f0f0f0 75%
	);
	background-size: 200% 100%;
	animation: loading 1.5s infinite;
}

@keyframes loading {
	0% {
		background-position: 200% 0;
	}
	100% {
		background-position: -200% 0;
	}
}

@keyframes fadeInUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}
